#!/usr/bin/env variant
# vi: ft=yaml

bindParamsFromEnv: true
autoenv: true

parameters:
  - name: CLOUDSDK_CORE_PROJECT
  - name: CLOUDSDK_COMPUTE_ZONE
  - name: CLOUDSDK_CONTAINER_CLUSTER
  - name: TOOLBOX_GCP_KEY_FILE

tasks:
  core:
    import: toolbox/.toolbox/deps/toolbox/variant-lib/utils.yaml
  cloud:
    tasks:
      gcp:
        tasks:
          gcloud:
            import: toolbox/.toolbox/deps/toolbox-gcp/variant-lib/utils.gcloud.yaml

  prepare:
    steps:
      - task: cloud.gcp.gcloud.init
